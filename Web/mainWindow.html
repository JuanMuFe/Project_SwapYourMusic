<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html ng-app="swapYourMusicApp" xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Swap Your Music!</title>
		<link rel="shortcut icon" href=""/>
		<meta name="description" content="Swap Your Music Project">
		<meta name="author" content="JuanMuÃ±oz_IreneBlanco">
		
		<!-- Styles -->
		<link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="css/style.css"  />
		  
		<!-- Angular-->
		<script src="js/frameWorks/angular/angular.min.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/frameWorks/angular/ng-currency.js" type="text/javascript" xml:space="preserve"></script>
    
		<!-- JQuery-->
		<script src="js/frameWorks/jQuery/jQuery.js" type="text/javascript" xml:space="preserve"></script>
		
		<!-- Datepicker-->
		<script src="js/frameWorks/jQuery/jquery.min.js" type = "text/javascript"></script>
		<script src="js/frameWorks/jQuery/jquery-ui.min.js" type = "text/javascript"></script>
		
		<!-- jQuery Cookies management-->
		<script src="js/frameWorks/jQuery/jquery-cookie/jquery.cookie.js" type="text/javascript" xml:space="preserve"></script>
		
		<!-- Jquery/JavaScript md5 functions-->
		<script src="js/frameWorks/md5.js" type="text/javascript" xml:space="preserve"></script>
		
		<!--Own scripts-->		
		<script src="js/model/userObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/genreObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/conditionObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/itemObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/warningUsersObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/warningObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/provinceObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/friendsObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/control/mainWindow.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/control/generalFunctions.js" type="text/javascript" xml:space="preserve"></script>
	</head>
	
	<body ng-controller="sessionController as sessionCtrl" ng-init="sessionCtrl.checkSession()">
		<div id="blackDiv"></div>
		<div ng-controller="swapYourMusicCtrl as musicCtrl" ng-init="musicCtrl.accessMainData();musicCtrl.checkWarnings();musicCtrl.loadUserFriends()">
			<div id="userMenuBar">	
				<div id="warningAlert">
					<a href="#" ng-click="warningDiv =! warningDiv; musicCtrl.readUserWarnings()"><img src="img/warning.png" /></a>
				</div>	
				<label style="color:white">Welcome {{sessionCtrl.user.getUserName()}}</label>
				<img id="userIcon" src="{{sessionCtrl.user.image}}" width="20" />				
				<a ng-click="sessionCtrl.logOut()"><div width="20" id="logOutImg"></div></a>
				<a ng-click="userPage=3"><div width="20" id="messageImg"></div></a> 
				<a ng-click="userPage=2;musicCtrl.showHome()"><div width="20" id="homeImg"></div></a>  
				<li class="dropdown linksFloat">
					<a class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown"><div width="20" id="profileImg"></div></a>
					<ul class="dropdown-menu">
						<li class="hoverList"><a href="#" ng-click="musicCtrl.loadUserItems();userProfile=1;items=2;userPage=1">Items list</a></li>
						<li class="hoverList"><a href="#" ng-click="userProfile=2;userPage=1;friends=1;musicCtrl.showFriendList()">Friends list</a></li>
						<li class="hoverList"><a href="#" ng-click="userProfile=3;userPage=1">Bids</a></li>
						<li class="hoverList dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" ng-click="userProfile=4;userPage=1">Settings</a>
							<ul class="dropdown-menu">
								<li class="hoverList"><a>Change data</a></li>
								<li class="hoverList"><a>Delete account</a></li>
							</ul>						
						</li>
					</ul>
				</li>				
				
			</div>		
			<div>	
				<div ng-show="userPage==1">
					<p id="userItemsMeesage"></p>
					<user-items-management id="userItemsManag"></user-items-management>
					<user-items-modification id="userItemsMod"></user-items-modification>
					
					<div ng-show="userProfile==2">
						<friends-list-form id="friendsListForm"></friends-list-form>						
						<friend-profile-form id="friendProfileForm"></friend-profile-form>
					</div>
					
					<div ng-show="userProfile==3">
						Bids
					</div>
					
					<div ng-show="userProfile==4"><br />
						<nav><a class="linkStyle">Change basic data</a> | <a class="linkStyle" ng-click="deleteAccount=1; musicCtrl.loadUserItems()">Delete account</a></nav>
						<div ng-show="deleteAccount==1">
							Introduce your password if you want to delete your account: <br />
							<input type="password" id="passwordToDelete"/><br />
							<p id="message"></p>
							<input type="button" value="Delete account" ng-click="musicCtrl.deleteAccount()" />
						</div>
				</div>
			</div>			
			
			<div ng-show="userPage==2">
				<home-search-form id="homeSearchForm"></home-search-form>
			</div>
			
				<div ng-show="userPage==3">
					Message
				</div>
			
				<div id="warningsDiv" ng-show="warningDiv">				
				</div>
			</div>		
		</div>
		
	</body>
</html>
