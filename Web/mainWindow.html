<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html ng-app="swapYourMusicApp" xmlns="http://www.w3.org/1999/xhtml" xml:lang="es" lang="es">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Swap Your Music!</title>
		<link rel="shortcut icon" href=""/>
		<meta name="description" content="Swap Your Music Project">
		<meta name="author" content="JuanMuÃ±oz_IreneBlanco">
		
		<!-- Styles -->
		<link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="css/style.css"  />
		  
		<!-- Angular-->
		<script src="js/frameWorks/angular/angular.min.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/frameWorks/angular/ng-currency.js" type="text/javascript" xml:space="preserve"></script>
    
		<!-- JQuery-->
		<script src="js/frameWorks/jQuery/jQuery.js" type="text/javascript" xml:space="preserve"></script>
		
		<!-- Datepicker-->
		<script src="js/frameWorks/jQuery/jquery.min.js" type = "text/javascript"></script>
		<script src="js/frameWorks/jQuery/jquery-ui.min.js" type = "text/javascript"></script>
		
		<!-- jQuery Cookies management-->
		<script src="js/frameWorks/jQuery/jquery-cookie/jquery.cookie.js" type="text/javascript" xml:space="preserve"></script>
		
		<!-- Jquery/JavaScript md5 functions-->
		<script src="js/frameWorks/md5.js" type="text/javascript" xml:space="preserve"></script>
		
		<!--Own scripts-->		
		<script src="js/model/userObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/genreObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/conditionObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/model/itemObj.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/control/mainWindow.js" type="text/javascript" xml:space="preserve"></script>
		<script src="js/control/generalFunctions.js" type="text/javascript" xml:space="preserve"></script>
	</head>
	
	<body ng-controller="sessionController as sessionCtrl" ng-init="sessionCtrl.checkSession()">
		<div>	
			<h2>Welcome {{sessionCtrl.user.getUserName()}} !</h2>			
			<img src="{{sessionCtrl.user.image}}" width="100" />
			<a ng-click="userPage=1">Profile</a> | <a ng-click="userPage=2">Home</a> | 
			<a ng-click="userPage=3">Messages</a> | <a ng-click="sessionCtrl.logOut()">Log out</a>
		</div>
		
		<div ng-controller="swapYourMusicCtrl as musicCtrl" ng-init="musicCtrl.accessMainData()">
			<div ng-show="userPage==1">
				<nav>
					<a ng-click="musicCtrl.loadUserItems();userProfile=1;items=2">Items list</a> | <a ng-click="userProfile=2">Friends list</a> | <a ng-click="userProfile=3">Bids</a> | <a ng-click="userProfile=4">Settings</a>
				</nav>
				<user-items-management id="userItemsManag"></user-items-management>
				<user-items-modification id="userItemsMod"></user-items-modification>
			</div>
			
			<div ng-show="userProfile==2">
				Friends
			</div>
			
			<div ng-show="userProfile==3">
				Bids
			</div>
			
			<div ng-show="userProfile==4"><br />
				<nav><a>Change basic data</a> | <a ng-click="deleteAccount=1">Delete account</a></nav>
				<div ng-show="deleteAccount==1">
					Introduce your password if you want to delete your account: <br />
					<input type="password" id="passwordToDelete"/><br />
					<p id="message"></p>
					<input type="button" value="Delete account" ng-click="musicCtrl.deleteAccount()" />
				</div>
			</div>
		</div>
		
	</body>
</html>
